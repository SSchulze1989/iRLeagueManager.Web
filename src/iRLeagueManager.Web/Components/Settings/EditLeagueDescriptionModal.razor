@using Ganss.Xss;
@using iRLeagueApiCore.Common.Models;
@using iRLeagueManager.Web.Components.Dialogs
@inherits EditDialogBase<LeagueViewModel, LeagueModel>
@inject HtmlSanitizer Sanitizer

<EditForm Model=Vm>
    <InputMarkdown @bind-Value=Vm.Description class="mb-3"/>
    <CancelSubmitButtons OnSubmit=Submit OnCancel=Cancel />
</EditForm>

@code {
    protected override async Task Submit()
    {
        // sanitize input before saving
        Vm.Description = Sanitizer.Sanitize(Vm.Description);
        await base.Submit();
    }
}
